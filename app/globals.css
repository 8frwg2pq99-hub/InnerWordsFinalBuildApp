


@tailwind base;
@tailwind components;
@tailwind utilities;

/* DARK MODE - Dark theme with subtle accents */
:root {
  --button-outline: rgba(255,255,255, .12);
  --badge-outline: rgba(255,255,255, .08);

  /* Automatic computation of border around primary / danger buttons */
  --opaque-button-border-intensity: -10; /* In terms of percentages */

  /* Backgrounds applied on top of other backgrounds when hovered/active */
  --elevate-1: rgba(255,255,255, .04);
  --elevate-2: rgba(255,255,255, .10);

  --background: 222 20% 10%;  /* Dark background */
  --foreground: 210 40% 98%;  /* Light text */
  --border: 217 33% 17%;  /* Subtle borders */
  --card: 222 20% 12%;  /* Slightly lighter than background */
  --card-foreground: 210 40% 98%;
  --card-border: 217 33% 20%;  /* Defined card borders */

  --primary: 142 70% 45%;
  --primary-foreground: 0 0% 100%;
  --secondary: 217 33% 17%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217 33% 17%;
  --muted-foreground: 215 20% 65%;
  --accent: 217 33% 17%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 65% 51%;
  --destructive-foreground: 0 0% 100%;
  --input: 217 33% 17%;
  --ring: 142 70% 45%;

  /* Game-specific semantic colors */
  --game-success: 142 70% 45%;
  --game-success-foreground: 0 0% 100%;
  --game-error: 0 65% 51%;
  --game-error-foreground: 0 0% 100%;
  --game-inner-sequence: 142 70% 45%;  /* Green for inner (higher value) */
  --game-inner-sequence-foreground: 0 0% 100%;
  --game-edge-sequence: 45 93% 47%;  /* Yellow for edge (lower value) */
  --game-edge-sequence-foreground: 0 0% 20%;

  --radius: 0.5rem;
}

.dark {
  --button-outline: rgba(255,255,255, .10);
  --badge-outline: rgba(255,255,255, .05);
  --opaque-button-border-intensity: 9;  /* In terms of percentages */
  --elevate-1: rgba(255,255,255, .04);
  --elevate-2: rgba(255,255,255, .09);

  --background: 222 14% 7%;
  --foreground: 220 13% 91%;
  --border: 223 18% 15%;
  --card: 223 18% 11%;
  --card-foreground: 220 13% 91%;
  --card-border: 223 18% 14%;

  --primary: 199 89% 48%;
  --primary-foreground: 199 89% 98%;
  --secondary: 223 18% 16%;
  --secondary-foreground: 220 13% 91%;
  --muted: 223 15% 15%;
  --muted-foreground: 220 9% 66%;
  --accent: 223 15% 15%;
  --accent-foreground: 220 13% 91%;
  --destructive: 0 72% 51%;
  --destructive-foreground: 0 72% 98%;
  --input: 223 18% 25%;
  --ring: 199 89% 48%;

  /* Game-specific semantic colors for dark mode */
  --game-success: 142 71% 45%;
  --game-success-foreground: 142 71% 98%;
  --game-error: 0 72% 51%;
  --game-error-foreground: 0 72% 98%;
  --game-inner-sequence: 142 76% 36%;
  --game-inner-sequence-foreground: 142 71% 85%;
  --game-edge-sequence: 38 92% 50%;
  --game-edge-sequence-foreground: 45 93% 84%;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Inter', sans-serif;
    overflow-x: hidden;
  }
  html {
    overflow-x: hidden;
  }
}

@layer utilities {
  /* Hide ugly search cancel button in Chrome until we can style it properly */
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  /* Placeholder styling for contentEditable div */
  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  /* Word breaking utilities for better text overflow handling */
  .overflow-wrap-anywhere {
    overflow-wrap: anywhere;
    word-break: break-word;
    hyphens: auto;
  }

  .break-anywhere {
    word-break: break-word;
    overflow-wrap: anywhere;
  }

  /* Prevent horizontal overflow on mobile */
  .max-w-screen {
    max-width: 100vw;
  }
}

/* Hide Next.js badge and error messages */
body > nextjs-portal {
  display: none;
}

/* Game Animation Keyframes */
@keyframes bounce-success {
  0%, 20%, 53%, 80%, 100% {
    transform: translate3d(0, 0, 0);
  }
  40%, 43% {
    transform: translate3d(0, -8px, 0);
  }
  70% {
    transform: translate3d(0, -4px, 0);
  }
  90% {
    transform: translate3d(0, -2px, 0);
  }
}

@keyframes shake-error {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}

@keyframes pulse-celebration {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.05); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes sparkle {
  0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
  50% { opacity: 1; transform: scale(1) rotate(180deg); }
}

@keyframes score-fly-up {
  0% { 
    opacity: 0; 
    transform: translateY(20px) scale(0.8); 
  }
  50% { 
    opacity: 1; 
    transform: translateY(-10px) scale(1.2); 
  }
  100% { 
    opacity: 0; 
    transform: translateY(-30px) scale(1); 
  }
}

@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 5px rgba(var(--primary), 0.3); }
  50% { box-shadow: 0 0 20px rgba(var(--primary), 0.6), 0 0 30px rgba(var(--primary), 0.4); }
}

/* Animation Classes */
.animate-bounce-success {
  animation: bounce-success 0.6s ease-in-out;
}

.animate-shake-error {
  animation: shake-error 0.5s ease-in-out;
}

.animate-pulse-celebration {
  animation: pulse-celebration 0.8s ease-in-out;
}

.animate-sparkle {
  animation: sparkle 1.2s ease-in-out infinite;
}

.animate-score-fly {
  animation: score-fly-up 1.5s ease-out forwards;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

/* Celebration Effects */
.celebration-inner {
  position: relative;
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(34, 197, 94, 0.1));
  border: 2px solid rgb(34, 197, 94);
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
}

.celebration-edge {
  position: relative;
  background: linear-gradient(135deg, rgba(234, 179, 8, 0.2), rgba(234, 179, 8, 0.1));
  border: 2px solid rgb(234, 179, 8);
  box-shadow: 0 0 20px rgba(234, 179, 8, 0.3);
}

.sparkle-effect {
  position: absolute;
  width: 8px;
  height: 8px;
  background: #fff;
  border-radius: 50%;
  pointer-events: none;
}

.sparkle-effect:nth-child(1) { top: 10%; left: 20%; animation-delay: 0s; }
.sparkle-effect:nth-child(2) { top: 20%; right: 15%; animation-delay: 0.3s; }
.sparkle-effect:nth-child(3) { bottom: 15%; left: 30%; animation-delay: 0.6s; }
.sparkle-effect:nth-child(4) { bottom: 25%; right: 25%; animation-delay: 0.9s; }



